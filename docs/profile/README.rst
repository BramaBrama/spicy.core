spicy.core.profile
******************

Назначение
==================
spicy.core.profile является модулем spicy.core. Позволяет управлять учетными записями на сайте, настраивать механизмы регистрации и авторизации, поддерживает работу с социальными сетями, email-рассылкой, разделением прав доступа по группам. Позволяет распределять пользователей между несколькими сайтами посредством `django sites framework <https://djbook.ru/rel1.4/ref/contrib/sites.html>`_.


Для администратора сайта
========================

Статусы пользователей
---------------------
По умолчанию новый пользователь, который регистрируется в системе, не имеет статуса. При этом на указанную почту отправляется активационная ссылка, при переходе по ней, присваивается статус Активный. Можно настраивать доступ пользователя к сайту с помощью статусов:

* активный - может просматривать публичные страницы сайта, оставлять комментарии, добавлять контент через интерфейс сайта; не имеет доступ в административную часть
* забанен - может просматривать публичные страницы; не может оставлять комментарии, добавлять контент через интерфейс; не имеет доступ в административную часть; рассматривается как анонимный пользователь.

Также каждому пользователю можно назначить 2 привелегированных статуса:

* персонал - пользователь имеет полный доступ к публичной части сайта; имеет доступ к административной части, ограниченный личными и групповыми правами 
* суперпользователь - имеет полный доступ к публичной и административной частям сайта

Управление правами доступа
--------------------------
Для разделения доступа к разделам могут быть использованы личные и групповые права. Они используются в SpicyCMS для ограничения доступа к модулям проекта в административной части. Но также могут быть использованы в публичной части, подробнее 
в `документации Django о правах пользователя <https://djbook.ru/rel1.4/topics/auth.html#django.contrib.auth.decorators.permission_required>`_.

Для каждого модуля SpicyCMS используется 3 типа прав:

* can add <Object> - пользователь может добавлять объекты, но не может видеть список
* can change <Object> - пользователь может реактировать объекты и видеть список
* can delete <Object> - пользователь может удалять объекты, но ему не доступен общий список (рекомендуется использовать совместно с can change <Object>)

Групповые и личные права объединяются для каждого пользователя. Так вы можете управлять доступом для нескольких пользователей через права группы и для каждого в отдельности выделять особые права, которые откроют доступ к разделам, не доступным другим членам группы.
У суперпользователя права не проверяются.

Для Django программиста
=======================
{TODO} Кастомные профили, настройки аутентификации, команды менеджмента

MANUAL_ACTIVATION - влияет на значение по умолчанию для Profile.is_banned
PASSWORD_HASH_KEY - указывает, какой ключ используется для передачи хэш-пароля в сессии

Для верстальщика
===============
{TODO} Описать возможности переопределения шаблонов по умолчанию


